{% extends 'base.html' %}
{% load static %}

{% block title %}搜索结果 - 樱花技术博客{% endblock %}

{% block content %}
<div class="container">
    <h1 style="margin-bottom: 2rem; display: flex; align-items: center; gap: 0.5rem;">
        <i class="fas fa-search" style="color: var(--color-gold);"></i>
        搜索结果
        {% if query %}
        <span style="font-size: 1rem; color: var(--color-text-light);">"{{ query }}"</span>
        {% endif %}
    </h1>

    {% if query %}
    <p style="margin-bottom: 2rem; color: var(--color-text-muted);">
        找到 {{ posts|length }} 个结果
    </p>

    <div class="post-grid" style="grid-template-columns: 1fr;">
        {% for post in posts %}
        <div class="post-card">
            <div class="post-card-image" style="background: linear-gradient(135deg, #FBCFE8 0%, #E0F2FE 100%);">
                {% if post.category %}
                <span class="post-card-category">{{ post.category.name }}</span>
                {% endif %}
            </div>
            <div class="post-card-content">
                <h3 class="post-card-title">
                    <a href="{% url 'blog:post_detail' post.slug %}">{{ post.title }}</a>
                </h3>
                <p class="post-card-excerpt">{{ post.excerpt|truncatechars:150 }}</p>
                <div class="post-card-meta">
                    <span><i class="fas fa-user"></i> {{ post.author.username }}</span>
                    <span><i class="fas fa-calendar"></i> {{ post.published_at|date:"Y/m/d" }}</span>
                    <span><i class="fas fa-eye"></i> {{ post.views }}</span>
                </div>
            </div>
        </div>
        {% empty %}
        <p style="text-align: center; color: var(--color-text-muted); padding: 3rem;">
            未找到相关文章，请尝试其他关键词。
        </p>
        {% endfor %}
    </div>
    {% else %}
    <p style="text-align: center; color: var(--color-text-muted); padding: 3rem;">
        请输入搜索关键词。
    </p>
    {% endif %}
</div>
{% endblock %}